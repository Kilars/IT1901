<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>User.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">core</a> &gt; <a href="index.source.html" class="el_package">bookingsystem.core</a> &gt; <span class="el_source">User.java</span></div><h1>User.java</h1><pre class="source lang-java linenums">package bookingsystem.core;

import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;
import java.util.regex.Pattern;


/**
 * User class
 * Each object has a first name, surname, email, phone and password
 * The class has two different constructors
 */
public class User {
    private String firstName;
    private String surname;
    private String email;
    private String phone;
    private String password;
<span class="pc" id="L20">    private List&lt;Booking&gt; bookings = new ArrayList&lt;&gt;();</span>

    
    /**
     * User constructor with no paramaters. 
     * Sets all attributes to Null.
     */
<span class="fc" id="L27">    public User() {</span>
<span class="fc" id="L28">    }</span>

    
    /**
     * Creates a new object taking in all parameters
     * @param firstName
     * @param surname
     * @param email
     * @param phone
     * @param password
     */
    
<span class="fc" id="L40">     public User(String firstName, String surname, String email, String phone, String password) {</span>
        /*if (firstName != &quot;&quot;) setFirstName(firstName);
        if (surname != &quot;&quot;) setSurname(surname);
        if (email != &quot;&quot;) setEmail(email);
        if (phone != &quot;&quot;) setPhone(phone);
        if (password != &quot;&quot;) setPassword(password);*/
<span class="fc" id="L46">        setFirstName(firstName);</span>
<span class="fc" id="L47">        setSurname(surname);</span>
<span class="fc" id="L48">        setEmail(email);</span>
<span class="fc" id="L49">        setPhone(phone);</span>
<span class="fc" id="L50">        setPassword(password);</span>

<span class="fc" id="L52">    }</span>

    /**
     * User constructor that converts a String to an object. 
     * Fills all attributes.
     * @param string    String with format &quot;firstName;surname;email;phone;password&quot;
     */
<span class="nc" id="L59">    public User(String string) {</span>
<span class="nc" id="L60">        String[] userInfo = string.split(&quot;;&quot;);</span>
<span class="nc" id="L61">        setFirstName(userInfo[0]);</span>
<span class="nc" id="L62">        setSurname(userInfo[1]);</span>
<span class="nc" id="L63">        setEmail(userInfo[2]);</span>
<span class="nc" id="L64">        setPhone(userInfo[3]);</span>
<span class="nc" id="L65">        setPassword(userInfo[4]);</span>
<span class="nc" id="L66">    }</span>

    /**
     * Checks if password contains at least 8 characters, and consists only of letters and digits. 
     * Sets the attribute &quot;password&quot; if the input is valid. 
     * Throws an exception if the input is invalid.
     * @param password 
     */
    public void setPassword(String password) {
<span class="fc bfc" id="L75" title="All 2 branches covered.">        if (Pattern.matches(&quot;\\w{8,}&quot;, password)) {</span>
<span class="fc" id="L76">            this.password = password;</span>
<span class="fc" id="L77">        }</span>
        else {
<span class="fc" id="L79">            throw new IllegalArgumentException(&quot;Vennligst skriv inn et gyldig passord&quot;);</span>
        }
<span class="fc" id="L81">    }</span>

    /**
     * Checks if password contains 8 digits.
     * Sets the attribute &quot;phone&quot; if the input is valid.
     * Throws an exception if the input is invalid
     * @param phone
     */
    public void setPhone(String phone) {
<span class="pc bpc" id="L90" title="1 of 2 branches missed.">        if (Pattern.matches(&quot;\\d{8}&quot;, phone)) {</span>
<span class="fc" id="L91">            this.phone = phone;</span>
<span class="fc" id="L92">        }</span>
        else {
<span class="nc" id="L94">            throw new IllegalArgumentException(&quot;Vennligst skriv inn et gyldig telefonnummer&quot;);</span>
        }
<span class="fc" id="L96">    }</span>

    /**
     * Checks if a name starts with a capital letter, consists only of letters, and is at least 2 characters long.
     * @param name
     * @return res      True if name is valid, False if name is invalid
     */
    private boolean checkName(String name) {
<span class="fc" id="L104">        boolean res = false;</span>
<span class="fc" id="L105">        String[] nameLst = name.split(&quot; &quot;);</span>
<span class="fc bfc" id="L106" title="All 2 branches covered.">        for (String nam : nameLst) {     </span>
<span class="fc bfc" id="L107" title="All 2 branches covered.">            if (Pattern.matches(&quot;[A-Z]{1}[a-z]{2,}&quot;,nam)) {</span>
<span class="fc" id="L108">                res = true;</span>
            }
        }
<span class="fc" id="L111">        return res;</span>
    }

    /**
     * Checks if name is valid using method {@link #checkName(String)}
     * Sets the attribute &quot;firstName&quot; if input is valid.
     * Throw an exception if input is invalid
     * @param firstName
     */
    public void setFirstName(String firstName) {
<span class="pc bpc" id="L121" title="1 of 2 branches missed.">        if (checkName(firstName)) {</span>
<span class="fc" id="L122">            this.firstName = firstName;</span>
<span class="fc" id="L123">        }</span>
        else {
<span class="nc" id="L125">            throw new IllegalArgumentException(&quot;Vennligst skriv inn et gyldig fornavn&quot;);</span>
        }
<span class="fc" id="L127">    }</span>

    /**
     * Checks if name is valid using method {@link #checkName(String)}
     * Sets the attribute &quot;surname&quot; if input is valid
     * Throw an exception if input is invalid
     * @param surname
     */
    public void setSurname(String surname) {
<span class="fc bfc" id="L136" title="All 2 branches covered.">        if (checkName(surname)) {</span>
<span class="fc" id="L137">            this.surname = surname;</span>
<span class="fc" id="L138">        }</span>
        else {
<span class="fc" id="L140">            throw new IllegalArgumentException(&quot;Vennligst skriv inn et gyldig etternavn&quot;);</span>
        }
<span class="fc" id="L142">    }</span>

    
    /**
     * Checks if email has characters before and after &quot;@&quot;.
     * Sets the attribute &quot;email&quot; if input is valid
     * Throw an exception if input is invalid
     * @param email
     */
    public void setEmail(String email) {
<span class="pc bpc" id="L152" title="1 of 2 branches missed.">        if (Pattern.matches(&quot;^(.+)@(.+)$&quot;,email)) {</span>
<span class="fc" id="L153">            this.email = email;</span>
<span class="fc" id="L154">        }</span>
        else {
<span class="nc" id="L156">            throw new IllegalArgumentException(&quot;Vennligst skriv inn en gyldig email-adresse&quot;);</span>
        }
<span class="fc" id="L158">    }</span>
    /**
     * Converts string to format &quot;firstname;surname;email;phone;password&quot;.
     */
    @java.lang.Override
    public java.lang.String toString() {
<span class="nc" id="L164">        return (firstName + ';' + surname + ';' + email + ';' + phone + ';' + password);</span>
    }

    /**
     * @return firstName
     */
    public String getFirstName() {
<span class="fc" id="L171">        return firstName;</span>
    }

    /**
     * @return surname
     */
    public String getSurname() {
<span class="fc" id="L178">        return surname;</span>
    }

    /**
     * @return email
     */
    public String getEmail() {
<span class="fc" id="L185">        return email;</span>
    }

    /**
     * @return phone
     */
    public String getPhone() {
<span class="fc" id="L192">        return phone;</span>
    }

    /**
     * 
     * @return password
     */
    public String getPassword() {
<span class="fc" id="L200">        return password;</span>
    }

    
        public void removeBooking(Booking booking) {
<span class="fc" id="L205">            this.bookings.remove(booking);</span>
<span class="fc" id="L206">        }</span>
    
        public void addBooking(Booking... bookings) {
<span class="fc bfc" id="L209" title="All 2 branches covered.">            for (Booking booking : bookings) {</span>
<span class="fc" id="L210">                this.bookings.add(booking);</span>
            }
<span class="fc" id="L212">        }</span>
    
        public List&lt;Booking&gt; getBookings() {
<span class="fc" id="L215">            return this.bookings;</span>
        }
    

        public Iterator&lt;Booking&gt; iterator() {
<span class="nc" id="L220">            return this.bookings.iterator();</span>
        }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.5.201910111838</span></div></body></html>